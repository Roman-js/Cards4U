(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{11:function(e,t,a){e.exports={wrapperOfAuth:"Auth_wrapperOfAuth__3XmyS"}},12:function(e,t,a){e.exports={cardQuestion:"GameField_cardQuestion__1N3ex",textQuestion:"GameField_textQuestion__2QdZd",textAnswer:"GameField_textAnswer__3OGu-",cardAnswerOn:"GameField_cardAnswerOn__32jJV",gameFieldWrapper:"GameField_gameFieldWrapper__2IgWR",cardAnswerOff:"GameField_cardAnswerOff__1Vzc9"}},14:function(e,t,a){e.exports={forLinks:"Common_forLinks__1l5g1",forInput:"Common_forInput__3E9bg",forButton:"Common_forButton__3VnRI",modalDeleteCard:"Common_modalDeleteCard__1va3c",filedOfApproveDelete:"Common_filedOfApproveDelete__12GEs",updateCard:"Common_updateCard__1m0Wu",fieldOfUpdate:"Common_fieldOfUpdate__331VH"}},18:function(e,t,a){e.exports={DeckBorder:"DecksTable_DeckBorder__n3nip",Table:"DecksTable_Table__2kI9u",cells:"DecksTable_cells__1E7On",updateCard:"DecksTable_updateCard__1yuSK",fieldOfUpdate:"DecksTable_fieldOfUpdate__1A4nG"}},19:function(e,t,a){e.exports={DeckBorder:"CardsTable_DeckBorder__1BYyA",Table:"CardsTable_Table__14Ccy",cells:"CardsTable_cells__3dB0k",updateCard:"CardsTable_updateCard__18pZt",fieldOfUpdate:"CardsTable_fieldOfUpdate__2HBzJ"}},25:function(e,t,a){e.exports={settings:"Search_settings__2FJo-",input:"Search_input__2E0SQ",strip:"Search_strip__3Gbiw",button:"Search_button__k6Vd9"}},41:function(e,t,a){e.exports={title:"Title_title__2LgXB"}},44:function(e,t,a){e.exports={wrapperOfHeader:"Header_wrapperOfHeader__3r8LB"}},46:function(e,t,a){e.exports=a(76)},51:function(e,t,a){},52:function(e,t,a){},7:function(e,t,a){e.exports={profileWrapper:"Profile_profileWrapper__3BVfL",profilePart:"Profile_profilePart__83rjY",appPart:"Profile_appPart__Vgrkl",deckCover:"Profile_deckCover__1YuVd",decksName:"Profile_decksName__1z24c",decksWrapper:"Profile_decksWrapper__3mjA5",paginationButtons:"Profile_paginationButtons__1RxpA",buttonsOfSettings:"Profile_buttonsOfSettings__AEmr4",updateCard:"Profile_updateCard__1ln4n",fieldOfUpdate:"Profile_fieldOfUpdate__3pPMt",inputAddDeck:"Profile_inputAddDeck__11fHg",addNewDeckField:"Profile_addNewDeckField__3j5UG"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=(a(51),a(52),a(23)),u=a(5),i=a(1),s=a(41),d=a.n(s),f=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:d.a.title},e.title))},m=a(14),p=a.n(m),O=function(e){return r.a.createElement("input",{className:p.a.forInput,onFocus:e.onFocus,onBlur:e.onBlur,value:e.value,onChange:e.onChange,placeholder:e.placeholder,type:e.type})},E=function(e){return r.a.createElement("button",{className:p.a.forButton,type:e.typeOfButton,onClick:e.actionOfButton,disabled:e.disabled},e.nameOfButton)},b=function(e){return r.a.createElement(l.b,{className:p.a.forLinks,to:e.way},e.wordOfLink)},g=a(11),v=a.n(g),h=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),d=s[0],m=s[1],p=Object(u.f)().token,g=function(){e.toCleanErrorField()};return r.a.createElement("div",{className:v.a.wrapperOfAuth},r.a.createElement(f,{title:"Set New Password"}),e.error?r.a.createElement("div",null,e.error):null,e.loading?r.a.createElement("div",null,"Loading..."):null,r.a.createElement("div",null,r.a.createElement(O,{placeholder:"new pass",type:"password",value:c,onBlur:g,onFocus:g,onChange:function(e){o(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(O,{placeholder:"repeat pass",type:"password",value:d,onBlur:g,onFocus:g,onChange:function(e){m(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",disabled:e.disabled,actionOfButton:function(){e.setValueOfSetNewPassForm(c,d,p),o(""),m("")},nameOfButton:"Set new password"})),r.a.createElement("div",null,r.a.createElement(b,{way:"/sign-in",wordOfLink:"Sign In"})))},k=a(3),S="auth/register/REGISTER-SUCCESS",w="auth/register/WAITING-FOR-RESPONSE",_="auth/register/SET-ERROR-REGISTER-PAGE",C=a(4),j=a.n(C),y=a(6),A=a(2),B=a(30),D=a.n(B),T=D.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),N=D.a.create({baseURL:"https://dry-forest-56016.herokuapp.com/"}),R=function(e){localStorage.removeItem("auth-token"),localStorage.setItem("auth-token",e)},x=function(e,t,a){return T.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){var t;return R(e.data.token),t=e.data._id,localStorage.removeItem("cardsPack_id"),localStorage.setItem("cardsPack_id",t),e.data}))},I=function(e,t,a){return T.post("auth/forgot",{email:e,html1:t,html2:a}).then((function(e){return console.log(e)}))},P=function(e,t){return T.post("auth/register",{email:e,password:t}).then((function(e){return e}))},F=function(){var e=localStorage.getItem("auth-token");return T.post("auth/me",{token:e}).then((function(e){console.log(e.data),R(e.data.token)})).catch((function(e){return e}))},G=function(e,t){return T.post("auth/set-new-password",{resetPasswordToken:e,password:t}).then((function(e){return e}))},L=function(e,t){return T.post("cards/pack",{cardsPack:e,token:t}).then((function(e){return R(e.data.token),e.data}))},U=function(e){var t=localStorage.getItem("auth-token");return T.delete("cards/pack?token=".concat(t,"&id=").concat(e)).then((function(e){return console.log(e),R(e.data.token),e}))},V=function(e,t,a,n,r,c){var o=localStorage.getItem("auth-token"),l=localStorage.getItem("cardsPack_id"),u=c?"&user_id=".concat(l):"";return T.get("cards/pack?token=".concat(o)+("&packName=".concat(e)+"&pageCount=".concat(r,"\n                &page=").concat(n)+u)).then((function(e){return console.log(e.data),R(e.data.token),e.data}))},W=function(e){var t=localStorage.getItem("auth-token");return T.put("cards/pack",{cardsPack:e,token:t}).then((function(e){return R(e.data.token),e.data.updatedCardsPack}))},M=function(e){return T.post("cards/card",e).then((function(e){return R(e.data.token),e.data}))},K=function(e){var t=localStorage.getItem("auth-token");return T.delete("cards/card?token=".concat(t,"&id=").concat(e)).then((function(e){return R(e.data.token),e.data}))},H=function(e){var t=localStorage.getItem("auth-token");return console.log(e),T.get("cards/card?cardsPack_id=".concat(e,"&token=").concat(t)).then((function(t){return R(t.data.token),localStorage.removeItem("cardsPack_id"),localStorage.setItem("cardsPack_id",e),t.data}))},Q=function(e){var t=localStorage.getItem("auth-token");return T.put("cards/card",{card:e,token:t}).then((function(e){return R(e.data.token),e.data.updatedCard}))},z=function(){return N.get("/file",{responseType:"blob"}).then((function(e){var t=e.data,a=new Blob([t],{type:"image/jpeg"});return console.log(a),t}))},Y=function(e){return N.post("/file",{myFile:e}).then((function(e){return e.data}))},q={error:"",token:"",loading:null,disabled:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW-ERROR":return Object(A.a)({},e,{error:t.error});case"SET-NEW-TOKEN":return Object(A.a)({},e,{token:t.token});case"SET-LOADING-VALUE":return Object(A.a)({},e,{loading:t.loading});case"TO-CLEAN-ERROR-FIELD":return Object(A.a)({},e,{error:t.error});default:return e}},Z=Object(k.b)(null,{setValueOfSetNewPassForm:function(e,t,a){return function(){var n=Object(y.a)(j.a.mark((function n(r,c){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e===t&&e.length>7)){n.next=16;break}return r({type:"SET-LOADING-VALUE",loading:!0,disabled:!0}),n.prev=2,n.next=5,G(a,e);case 5:r({type:"SET-NEW-TOKEN",token:a}),r({type:"SET-LOADING-VALUE",loading:!1,disabled:!1}),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0.response),r({type:"SHOW-ERROR",error:n.t0.response.data.error}),r({type:"SET-LOADING-VALUE",loading:!1,disabled:!1});case 14:n.next=17;break;case 16:r({type:"SHOW-ERROR",error:"Incorrect Password! Password should have min 8 values and each one fields should be same!"});case 17:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t){return n.apply(this,arguments)}}()}})((function(e){var t=Object(k.c)(),a=Object(k.d)((function(e){return e.setNewPass}));return r.a.createElement(h,{setValueOfSetNewPassForm:e.setValueOfSetNewPassForm,error:a.error,loading:a.loading,disabled:a.disabled,toCleanErrorField:function(){t({type:"TO-CLEAN-ERROR-FIELD",error:null})}})})),X=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),g=p[0],h=p[1],k=function(){e.toCleanErrorField()};return r.a.createElement("div",{className:v.a.wrapperOfAuth},r.a.createElement(f,{title:"sign-in"}),e.loading?r.a.createElement("div",null,"loading..."):null,e.error?r.a.createElement("div",null,e.error):null,r.a.createElement("div",null,r.a.createElement(O,{type:"text",placeholder:"email",value:c,onFocus:k,onBlur:k,onChange:function(e){o(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(O,{type:"password",placeholder:"password",value:s,onFocus:k,onBlur:k,onChange:function(e){d(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(b,{way:"/forgot",wordOfLink:"Forgot password?"})),r.a.createElement("div",null,r.a.createElement(O,{type:"checkbox",checked:g,onChange:function(e){h(!g)}}),"Remember Me"),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.setSignInFormValues(c,s,g)},disabled:e.disabled,nameOfButton:"Sign In"})),r.a.createElement("div",null,r.a.createElement(b,{way:"/register",wordOfLink:"Registration"})))},$={email:"",password:"",rememberMe:!1,loading:!1,disabled:!1,error:null,token:"",redirect:!1,authToken:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-SIGN-IN-FORM-VALUES":return Object(A.a)({},e,{email:t.email,password:t.password,rememberMe:t.rememberMe,token:t.token,redirect:t.redirect});case"SET-LOADING-DATA":return Object(A.a)({},e,{loading:t.loading,disabled:t.disabled,redirect:t.redirect});case"SET-ERROR-SIGN-IN-PAGE":return Object(A.a)({},e,{error:t.error});case"IS-TOKEN-HAS":return Object(A.a)({},e,{authToken:t.authToken});case"REDIRECT-OFF":return Object(A.a)({},e,{redirect:!1});default:return e}},te=Object(k.b)(null,{setSignInFormValues:function(e,t,a){return function(){var n=Object(y.a)(j.a.mark((function n(r,c){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SET-LOADING-DATA",loading:!0,disabled:!0}),n.next=3,x(e,t,a).then((function(e){r({type:"SET-LOADING-DATA",loading:!1,disabled:!1}),r({type:"SET-SIGN-IN-FORM-VALUES",email:e.email,password:t,rememberMe:e.rememberMe,token:e.token,redirect:!0}),localStorage.setItem("auth-token",e.token),localStorage.setItem("user-id",e._id);var a=localStorage.getItem("auth-token");r({type:"IS-TOKEN-HAS",authToken:a})})).catch((function(e){console.log(e.response);var t=e.response.data.error;r({type:"SET-LOADING-DATA",loading:!1,disabled:!1,redirect:!1}),r({type:"SET-ERROR-SIGN-IN-PAGE",error:t})}));case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})((function(e){var t=Object(k.c)(),a=Object(k.d)((function(e){return e.signIn}));return a.redirect?r.a.createElement(u.a,{to:"/profile"}):r.a.createElement(X,{setSignInFormValues:e.setSignInFormValues,loading:a.loading,disabled:a.disabled,error:a.error,toCleanErrorField:function(){t({type:"SET-ERROR-SIGN-IN-PAGE",error:null})}})})),ae=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],l=function(){e.toCleanError()};return r.a.createElement("div",{className:v.a.wrapperOfAuth},r.a.createElement(f,{title:"forgot"}),e.loading?r.a.createElement("div",null,"Loading..."):null,e.error?r.a.createElement("div",null,e.error):null,r.a.createElement("div",null,r.a.createElement(O,{placeholder:"email address",type:"text",value:c,onBlur:l,onFocus:l,onChange:function(e){o(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.setForgotPassword(c),o("")},nameOfButton:"Send email",disabled:e.disabled})),r.a.createElement("div",null,r.a.createElement(b,{way:"/sign-in",wordOfLink:"Sign In"})))},ne={email:"",loading:!1,disabled:!1,error:null,emailApproved:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE-FORGOT-PASSWORD":return Object(A.a)({},e,{email:t.email});case"SET-LOADING-DATA-FORGOT-PAGE":return Object(A.a)({},e,{loading:t.loading,disabled:t.disabled,emailApproved:t.emailApproved});case"SET-VALUE-ERROR-FORGOT-PAGE":return Object(A.a)({},e,{error:t.error});default:return e}},ce=Object(k.b)(null,{setForgotPassword:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!0,disabled:!0}),t.prev=1,t.next=4,I(e,"<a href=http://localhost:3000/template-typescript#/set-new-pass/",">reset-password-link</a>");case 4:r=t.sent,console.log(r),a({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!1,disabled:!1,emailApproved:!0}),a({type:"RESTORE-FORGOT-PASSWORD",email:e}),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response.data.error),c=t.t0.response.data.error,a({type:"SET-VALUE-ERROR-FORGOT-PAGE",error:c}),a({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!1,disabled:!1});case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()},toCleanError:function(){return function(){var e=Object(y.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET-VALUE-ERROR-FORGOT-PAGE",error:null})}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})((function(e){var t=Object(k.d)((function(e){return e.forgot}));return t.emailApproved?r.a.createElement(u.a,{to:"/set-new-pass/:token"}):r.a.createElement(ae,{setForgotPassword:e.setForgotPassword,toCleanError:e.toCleanError,loading:t.loading,disabled:t.disabled,error:t.error})})),oe=function(e){var t=e.setRegisterFormValues,a=e.loading,c=e.error,o=e.cancelErrorPosition,l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),g=p[0],h=p[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),w=S[0],_=S[1];console.log(t);var C=function(){return o()};return r.a.createElement("div",{className:v.a.wrapperOfAuth},r.a.createElement(f,{title:"Register"}),a&&r.a.createElement("div",null,"wait"),c&&r.a.createElement("label",null,c),r.a.createElement("div",null,r.a.createElement(O,{placeholder:"email",type:"email",onBlur:C,onFocus:C,onChange:function(e){return d(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(O,{placeholder:"password",type:"password",onBlur:C,onFocus:C,onChange:function(e){return h(e.currentTarget.value)}})),r.a.createElement("div",null,r.a.createElement(O,{placeholder:"repeat password",type:"password",onBlur:C,onFocus:C,onChange:function(e){return _(e.currentTarget.value)}})),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){return t(s,g,w)},nameOfButton:"Register"}),r.a.createElement(b,{way:"/sign-in",wordOfLink:"Sign In"}))},le=function(e){var t=Object(k.c)(),a=Object(k.d)((function(e){return e.register}));return r.a.createElement(r.a.Fragment,null,a.redirect&&r.a.createElement(u.a,{to:"/profile"}),r.a.createElement(oe,{setRegisterFormValues:function(e,a,n){if(a!==n){t({type:_,error:"fields password and repeat password should be the same"})}else{if(!(a.length<=7&&e!==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/))return t({type:w,loading:!0}),P(e,a).then((function(n){t({type:w,loading:!1}),t({type:S,email:e,password:a,redirect:!0})})).catch((function(e){t({type:w,loading:!1}),t({type:_,error:"your email is invalid or is already registered"})}));t({type:_,error:"your email of password is not valid"})}},loading:a.loading,error:a.error,cancelErrorPosition:function(){return t({type:_,error:null})}}))},ue=a(44),ie=a.n(ue),se=function(e){return r.a.createElement("div",{className:ie.a.wrapperOfHeader},r.a.createElement(b,{way:"/sign-in",wordOfLink:"sign-in"}),r.a.createElement(b,{way:"/register",wordOfLink:"register"}),r.a.createElement(b,{way:"/profile",wordOfLink:"profile"}),r.a.createElement(b,{way:"/upload-file",wordOfLink:"file"}),r.a.createElement(b,{way:"/decks-table",wordOfLink:"decks"}),e.login?r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.tokenIsClear()},nameOfButton:"logout"}):null)},de=function(){var e=Object(k.d)((function(e){return e.profile.login})),t=Object(k.c)();return r.a.createElement(se,{login:e,tokenIsClear:function(){localStorage.removeItem("auth-token"),localStorage.removeItem("user-id"),t({type:"LOGIN-SUCCESS",login:!1}),t({type:"REDIRECT-OFF"})}})},fe=a(18),me=a.n(fe),pe=a(25),Oe=a.n(pe),Ee=a(24),be={decks:[{grade:0,name:"7777",path:"/def",rating:0,shots:0,type:"pack",_id:"5ebd1e6d5af2c800049590de"}]},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-DECK":return Object(A.a)({},e,{decks:[].concat(Object(Ee.a)(e.decks),[t.newCardsPack])});case"DELETE-DECK":return Object(A.a)({},e,{decks:e.decks.filter((function(e){return e._id!==t._id}))});case"GET-DECKS":return Object(A.a)({},e,{decks:t.cardPacks});case"UPDATE-DECK":return Object(A.a)({},e,{decks:e.decks.map((function(e){return e._id===t.updateCardsDeck._id?t.updateCardsDeck:e}))});default:return e}},ve=function(e,t){return function(){var a=Object(y.a)(j.a.mark((function a(n,r){var c,o,l,u;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=localStorage.getItem("auth-token"),o=localStorage.getItem("user-id"),a.prev=2,a.next=5,L({name:e,user_id:o,rating:t},c);case 5:l=a.sent,u=l.newCardsPack,n({type:"ADD-NEW-DECK",newCardsPack:u}),console.log(l),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),console.log(a.t0.data);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e,t){return a.apply(this,arguments)}}()},he=function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e);case 3:a({type:"DELETE-DECK",_id:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,a){return t.apply(this,arguments)}}()},ke=function(e,t,a){return function(){var n=Object(y.a)(j.a.mark((function n(r,c){var o,l,u,i,s,d;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=c().search.name,l=c().search,u=l.minValue,i=l.maxValue,n.prev=2,n.next=5,V(o,u,i,e,t,a);case 5:s=n.sent,d=s.cardPacks,r({type:"GET-DECKS",cardPacks:d}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0.data);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e,t){return n.apply(this,arguments)}}()},Se=function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(e);case 3:r=t.sent,a({type:"UPDATE-DECK",updateCardsDeck:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.data);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},we={theCards:[{cardsPack_id:"5ebe22ad7b58e90004b4b1e0",_id:"",question:"something 1",answer:"something else 1",grade:3,shots:1,token:""}]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-CARD":return Object(A.a)({},e,{theCards:[].concat(Object(Ee.a)(e.theCards),[t.newCard])});case"GET-CARDS":return Object(A.a)({},e,{theCards:t.cards});case"UPDATE-CARD":return Object(A.a)({},e,{theCards:e.theCards.map((function(e){return e._id===t.updatedCard._id?t.updatedCard:e}))});case"DELETE-CARD":return Object(A.a)({},e,{theCards:e.theCards.filter((function(e){return e._id!==t._id}))});default:return e}},Ce=function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){var r,c,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H(e);case 3:r=t.sent,c=r.cards,o=localStorage.getItem("cardsPack_id"),a({type:"GET-CARDS",cards:c,cardsPack_id:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q(e);case 3:r=t.sent,a({type:"UPDATE-CARD",updatedCard:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},ye={name:"",minValue:0,maxValue:4},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reducer/SET-SEARCHING-NAME":case"SET_SEARCHING_NAME_CARD_SUCCESS":return Object(A.a)({},e,{name:t.name,minValue:t.minValue,maxValue:t.maxValue});default:return e}},Be=function(e){var t=e.minValue,a=e.maxValue,c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],u=o[1],s=Object(n.useState)([t,a]),d=Object(i.a)(s,2),f=d[0],m=(d[1],Object(k.c)());return r.a.createElement("div",{className:Oe.a.settings},r.a.createElement("div",{className:Oe.a.input},r.a.createElement("input",{type:"text",placeholder:"\ud83d\udd0d",onChange:function(e){return u(e.currentTarget.value)}})),r.a.createElement("div",{className:Oe.a.button},r.a.createElement(E,{actionOfButton:function(){return m(function(e,t,a){return function(n){n(function(e,t,a){return{type:"reducer/SET-SEARCHING-NAME",name:e,minValue:t,maxValue:a}}(e,t,a)),n(ke(1,4,!1))}}(l,f[0],f[1]))},nameOfButton:"Search",typeOfButton:"button"})))},De=function(){var e=Object(k.d)((function(e){return e.search.minValue})),t=Object(k.d)((function(e){return e.search.maxValue}));return r.a.createElement(Be,{minValue:e,maxValue:t})},Te=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)(!1),p=Object(i.a)(m,2),g=p[0],v=p[1],h=Object(n.useState)(""),k=Object(i.a)(h,2),S=k[0],w=k[1],_=Object(n.useState)({}),C=Object(i.a)(_,2),j=C[0],y=C[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null),r.a.createElement(f,{title:"DECKS"}),r.a.createElement("table",{className:me.a.Table},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(O,{type:"text",value:c,placeholder:"Deck's name",onChange:function(e){o(e.currentTarget.value)}})),r.a.createElement("th",null,"Rating "," "," ",s," "," ",r.a.createElement(E,{actionOfButton:function(){d(s+1)},nameOfButton:"\u2191",typeOfButton:"button"})," "," ",r.a.createElement(E,{actionOfButton:function(){d(s-1)},nameOfButton:"\u2193",typeOfButton:"button"})),r.a.createElement("th",null,r.a.createElement(E,{actionOfButton:function(){e.addNewDeck(c,s)},nameOfButton:"add",typeOfButton:"button"}))),e.decks.map((function(t){return r.a.createElement("tr",{className:me.a.cells,key:t._id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.rating),r.a.createElement("td",null,r.a.createElement(E,{actionOfButton:function(){return function(e){v(!0),w(e.name),y(e)}(t)},nameOfButton:"Update",typeOfButton:"button"})," ",r.a.createElement(E,{actionOfButton:function(){return a=t._id,void e.deleteADeck(a);var a},nameOfButton:"Delete",typeOfButton:"button"})," ",r.a.createElement("span",{onClick:function(){return e.getCards(t._id)}},r.a.createElement(b,{way:"/cards-table",wordOfLink:"cards"}))," ",r.a.createElement("span",{onClick:function(){return e.getCards(t._id)}},r.a.createElement(b,{way:"/play",wordOfLink:"play"}))))})))),g?r.a.createElement("div",{className:me.a.updateCard},r.a.createElement("div",{className:me.a.fieldOfUpdate},r.a.createElement("h1",null,"UPDATE YOUR DECK"),r.a.createElement("textarea",{placeholder:"Name",onChange:function(e){w(e.currentTarget.value)},value:S}),r.a.createElement("button",{onClick:function(){v(!1);var t=Object(A.a)({},j,{name:S});e.updateDeck(t)}},"Save"),r.a.createElement("button",{onClick:function(){return v(!1)}},"Cancel"))):null)},Ne=Object(k.b)(null,{addNewDeck:ve,deleteADeck:he,getDecks:ke,getCards:Ce,updateDeck:Se})((function(e){var t=Object(k.d)((function(e){return e.decks.decks}));return Object(n.useEffect)((function(){e.getDecks(1,4,!1)}),[]),r.a.createElement(Te,{decks:t,addNewDeck:e.addNewDeck,deleteADeck:e.deleteADeck,updateDeck:e.updateDeck,getCards:e.getCards})})),Re=a(19),xe=a.n(Re),Ie=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)(0),p=Object(i.a)(m,2),b=p[0],g=p[1],v=Object(n.useState)(!1),h=Object(i.a)(v,2),k=h[0],S=h[1],w=Object(n.useState)(""),_=Object(i.a)(w,2),C=_[0],j=_[1],y=Object(n.useState)(""),B=Object(i.a)(y,2),D=B[0],T=B[1],N=Object(n.useState)({}),R=Object(i.a)(N,2),x=R[0],I=R[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(De,null),r.a.createElement(f,{title:"CARDS"}),r.a.createElement("table",{className:xe.a.Table},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(O,{type:"text",value:c,placeholder:"Question",onChange:function(e){o(e.currentTarget.value)}})),r.a.createElement("th",null,"Grade "," "," ",b," "," ",r.a.createElement(E,{actionOfButton:function(){g(b+1)},nameOfButton:"\u2191",typeOfButton:"button"})," "," ",r.a.createElement(E,{actionOfButton:function(){g(b-1)},nameOfButton:"\u2193",typeOfButton:"button"})),r.a.createElement("th",null,r.a.createElement(O,{type:"text",value:s,placeholder:"Answer",onChange:function(e){d(e.currentTarget.value)}})," ",r.a.createElement(E,{actionOfButton:function(){e.addNewCard(c,s,b)},nameOfButton:"add",typeOfButton:"button"}))),e.cards.map((function(t){return r.a.createElement("tr",{className:xe.a.cells,key:t._id},r.a.createElement("td",null,t.question," "),r.a.createElement("td",null,t.grade),r.a.createElement("td",null,">>>>>>......<<<<<<"," ",r.a.createElement(E,{actionOfButton:function(){return function(e){S(!0),j(e.question),T(e.answer),I(e)}(t)},nameOfButton:"Update",typeOfButton:"button"}),r.a.createElement(E,{actionOfButton:function(){return a=t._id,void e.deleteACard(a);var a},nameOfButton:"Delete",typeOfButton:"button"})))})))),k?r.a.createElement("div",{className:xe.a.updateCard},r.a.createElement("div",{className:xe.a.fieldOfUpdate},r.a.createElement("h1",null,"UPDATE YOUR CARD"),r.a.createElement("textarea",{placeholder:"Question",onChange:function(e){j(e.currentTarget.value)},value:C}),r.a.createElement("textarea",{placeholder:"Answer",onChange:function(e){T(e.currentTarget.value)},value:D}),r.a.createElement("button",{onClick:function(){S(!1);var t=Object(A.a)({},x,{question:C,answer:D});e.updateCards(t)}},"Save"),r.a.createElement("button",{onClick:function(){return S(!1)}},"Cancel"))):null)},Pe=Object(k.b)(null,{addNewCard:function(e,t,a){return function(){var n=Object(y.a)(j.a.mark((function n(r,c){var o,l,u,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=localStorage.getItem("auth-token"),l=localStorage.getItem("cardsPack_id"),n.prev=2,n.next=5,M({card:{cardsPack_id:l,question:e,answer:t,grade:a},token:o});case 5:u=n.sent,console.log(u),i=Object(A.a)({},u.newCard,{token:u.token}),r({type:"ADD-NEW-CARD",newCard:i}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e,t){return n.apply(this,arguments)}}()},deleteACard:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:r=t.sent,c=r.deletedCard._id,a({type:"DELETE-CARD",_id:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},updateCards:je})((function(e){var t=Object(k.d)((function(e){return e.cards.theCards}));return r.a.createElement(Ie,{addNewCard:e.addNewCard,deleteACard:e.deleteACard,updateCards:e.updateCards,cards:t})})),Fe=a(12),Ge=a.n(Fe),Le=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),u=Object(i.a)(l,2),s=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ge.a.gameFieldWrapper,key:e.card._id},r.a.createElement("div",{className:Ge.a.cardQuestion},r.a.createElement("span",{className:Ge.a.textQuestion},e.card.question)),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){o(!0)},nameOfButton:"check"}),r.a.createElement("div",{className:c?Ge.a.cardAnswerOn:Ge.a.cardAnswerOff,onClick:function(){return o(!0)}},r.a.createElement("span",{className:Ge.a.textAnswer},c?e.card.answer:null))),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){d(1)},nameOfButton:"didn't know"})," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){d(2)},nameOfButton:"forgot"})," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){d(3)},nameOfButton:"spend a lot of time"})," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){d(4)},nameOfButton:"mixed up"})," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){d(5)},nameOfButton:"knew"})," "),r.a.createElement("div",null," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.nextCard(),o(!1),e.setGrade(s)},nameOfButton:"NEXT"})))},Ue=Object(k.b)(null,{updateCards:je})((function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(k.d)((function(e){return e.cards.theCards}));console.log(l);var u=l.map((function(e){return e.grade})).reduce((function(e,t){return e+t}));console.log(u);var s=l.map((function(e){return e.grade/Number(u)}));console.log(s);var d=1*Math.random();console.log(d);var f=function(){for(var e=0,t=0;t<s.length;t++)if(e+=s[t],console.log("totalP => "+e),d>e){console.log("item "+t+" with value: "+s[t]);break}return e}();console.log(f);var m=s.indexOf(f);console.log(m);void 0===l[c]&&o(0);var p=l[c];return r.a.createElement(Le,{card:p,nextCard:function(){o(c+1)},setGrade:function(t){p.shots,p.grade,p.shots;var a=Object(A.a)({},p,{shots:p.shots+1,grade:t});Math.floor(5*Math.random()),e.updateCards(a)}})})),Ve=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],o=(a[1],Object(n.useState)("")),l=Object(i.a)(o,2),u=l[0],s=l[1],d=Object(n.useState)(),f=Object(i.a)(d,2),m=f[0],p=f[1],O=Object(n.useState)(),b=Object(i.a)(O,2),g=(b[0],b[1]),v=Object(n.useState)(),h=Object(i.a)(v,2),k=h[0],S=h[1],w=Object(n.useState)(),_=Object(i.a)(w,2),C=_[0],j=_[1],y=Object(n.useState)(!0),A=Object(i.a)(y,2),B=A[0];A[1];return r.a.createElement("div",null,r.a.createElement("img",{src:C,alt:"file",width:"300px"}),r.a.createElement("div",null,"name: ",m&&m.name),r.a.createElement("div",null,"last Modified: ",m&&m.lastModified),r.a.createElement("div",null,"size: ",m&&m.size),r.a.createElement("div",null,"type: ",m&&m.type),r.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png, .gif",ref:e,onChange:function(e){var t=e.target.files&&e.target.files[0],a=new FileReader,n=new FormData;t&&(p(t),g(window.URL.createObjectURL(t)),n.append("myFile",t,t.name),S(n),c&&(a.onloadend=function(){j(a.result)},B?a.readAsDataURL(t):a.readAsText(t)))},style:{display:"none"}}),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){return e&&e.current&&e.current.click()},nameOfButton:"add"}),r.a.createElement("div",null,r.a.createElement("textarea",{value:u,onChange:function(e){return s(e.currentTarget.value)}})),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){},nameOfButton:"save"})," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){Y(k)},nameOfButton:"send"})," ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){z()},nameOfButton:"get"}))},We=a(7),Me=a.n(We),Ke=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),d=s[0],m=s[1],p=Object(n.useState)(!1),O=Object(i.a)(p,2),b=O[0],g=O[1],v=Object(n.useState)(""),h=Object(i.a)(v,2),k=h[0],S=h[1],w=Object(n.useState)({}),_=Object(i.a)(w,2),C=_[0],j=_[1],y=Object(n.useState)(""),B=Object(i.a)(y,2),D=B[0],T=B[1],N=Object(n.useState)(1),R=Object(i.a)(N,2),x=R[0],I=R[1];return r.a.createElement("div",{className:Me.a.profileWrapper},r.a.createElement("div",{className:Me.a.profilePart},r.a.createElement("img",{src:"https://static.tildacdn.com/tild6564-3565-4232-b434-653536636432/avatar_OCAS.jpg"}),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){},nameOfButton:"UPLOAD AVATAR"})),r.a.createElement("div",null,r.a.createElement(De,null)),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",actionOfButton:e.allDecks,nameOfButton:"ALL DECKS"})),r.a.createElement("div",null,r.a.createElement(E,{typeOfButton:"button",actionOfButton:e.myDecks,nameOfButton:"MY DECKS"})),r.a.createElement("div",{className:Me.a.paginationButtons},r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.nextPage(x-1),I(x<=1?1:x-1)},nameOfButton:"PREVIOUS"}),"  ",r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){I(x+1),e.nextPage(x+1)},nameOfButton:"NEXT"}))),r.a.createElement("div",{className:Me.a.appPart},r.a.createElement("div",{className:Me.a.decksWrapper},r.a.createElement("div",{className:Me.a.addNewDeckField},r.a.createElement("input",{className:Me.a.inputAddDeck,value:D,onChange:function(e){T(e.currentTarget.value)},placeholder:"Deck's name"}),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.addNewDeck(D,0)},nameOfButton:"Create Deck"})),e.decks.map((function(t){return r.a.createElement("div",{className:Me.a.deckCover,key:t._id},r.a.createElement("div",{className:Me.a.buttonsOfSettings},r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.getCards(t._id),m(!0)},nameOfButton:"PLAY"}),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){return function(e){g(!0),S(e.name),j(e)}(t)},nameOfButton:"UPDATE"})),r.a.createElement("div",{className:Me.a.buttonsOfSettings},r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.getCards(t._id),o(!0)},nameOfButton:"CARDS"}),r.a.createElement(E,{typeOfButton:"button",actionOfButton:function(){e.deleteADeck(t._id)},nameOfButton:"DELETE"})),r.a.createElement("div",{className:Me.a.decksName},r.a.createElement("b",null,t.name)))})))),c?r.a.createElement(u.a,{to:"/cards-table"}):null,d?r.a.createElement(u.a,{to:"/play"}):null,b?r.a.createElement("div",{className:Me.a.updateCard},r.a.createElement("div",{className:Me.a.fieldOfUpdate},r.a.createElement(f,{title:"UPDATE YOUR DECK"}),r.a.createElement("textarea",{placeholder:"Name",onChange:function(e){S(e.currentTarget.value)},value:k}),r.a.createElement("button",{onClick:function(){g(!1);var t=Object(A.a)({},C,{name:k});e.updateDeck(t)}},"Save"),r.a.createElement("button",{onClick:function(){return g(!1)}},"Cancel"))):null)},He={login:!1},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN-SUCCESS":return Object(A.a)({},e,{login:t.login})}return e},ze=Object(k.b)(null,{approveAuth:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(a,n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F();case 3:a({type:"LOGIN-SUCCESS",login:e}),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,a){return t.apply(this,arguments)}}()},getDecks:ke,getCards:Ce,deleteADeck:he,updateDeck:Se,addNewDeck:ve})((function(e){Object(n.useEffect)((function(){e.getDecks(1,10,!1);var t=localStorage.getItem("auth-token");console.log(t);var a=!!t;e.approveAuth(a)}),[]);var t=Object(k.d)((function(e){return e.decks.decks}));return r.a.createElement(Ke,{decks:t,nextPage:function(t){t<=1?e.getDecks(1,4,!1):e.getDecks(t,4,!1)},myDecks:function(){e.getDecks(1,10,!0)},allDecks:function(){e.getDecks(1,10,!1)},approveAuth:e.approveAuth,getCards:e.getCards,deleteADeck:e.deleteADeck,addNewDeck:e.addNewDeck,updateDeck:e.updateDeck})})),Ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement("div",{className:v.a.wrapperOfAuth},r.a.createElement(u.b,{path:"/sign-in",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(u.b,{path:"/register",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(u.b,{path:"/forgot",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(u.b,{path:"/set-new-pass/:token",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(u.b,{path:"/profile",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(u.b,{path:"/decks-table",render:function(){return r.a.createElement(Ne,null)}}),r.a.createElement(u.b,{path:"/cards-table",render:function(){return r.a.createElement(Pe,null)}}),r.a.createElement(u.b,{path:"/play",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(u.b,{path:"/upload-file",render:function(){return r.a.createElement(Ve,null)}})),r.a.createElement(u.a,{to:"/profile"}))},qe=a(15),Je=a(45),Ze={email:"",password:"",loading:!1,error:!1,redirect:!1},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(A.a)({},e,{email:t.email,password:t.password,redirect:!0});case w:return Object(A.a)({},e,{loading:t.loading});case _:return Object(A.a)({},e,{error:t.error})}return e},$e=Object(qe.c)({forgot:re,register:Xe,setNewPass:J,signIn:ee,profile:Qe,decks:ge,cards:_e,search:Ae}),et=Object(qe.d)($e,Object(qe.a)(Je.a));var tt=function(){return r.a.createElement(l.a,null,r.a.createElement(k.a,{store:et},r.a.createElement(Ye,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.64bf0733.chunk.js.map