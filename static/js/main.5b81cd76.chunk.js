(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{12:function(e,t,n){e.exports={forLinks:"Common_forLinks__1l5g1",forInput:"Common_forInput__3E9bg",forButton:"Common_forButton__3VnRI"}},25:function(e,t,n){e.exports={DeckBorder:"DecksTable_DeckBorder__n3nip",Table:"DecksTable_Table__2kI9u",cells:"DecksTable_cells__1E7On"}},38:function(e,t,n){e.exports={wrapperOfHeader:"Header_wrapperOfHeader__3r8LB"}},41:function(e,t,n){e.exports=n(71)},46:function(e,t,n){},47:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),l=n.n(o),c=(n(46),n(47),n(20)),u=n(1),i=n(4),s=function(e){return a.a.createElement("div",null,a.a.createElement("h2",null,e.title))},d=n(12),f=n.n(d),m=function(e){return a.a.createElement("input",{className:f.a.forInput,onFocus:e.onFocus,onBlur:e.onBlur,value:e.value,onChange:e.onChange,placeholder:e.placeholder,type:e.type})},p=function(e){return a.a.createElement("button",{className:f.a.forButton,type:e.typeOfButton,onClick:e.actionOfButton,disabled:e.disabled},e.nameOfButton)},E=function(e){return a.a.createElement(c.b,{className:f.a.forLinks,to:e.way},e.wordOfLink)},O=n(9),g=n.n(O),b=function(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)(""),d=Object(i.a)(c,2),f=d[0],O=d[1],b=Object(u.f)().token,h=function(){e.toCleanErrorField()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"Set New Password"}),e.error?a.a.createElement("div",null,e.error):null,e.loading?a.a.createElement("div",null,"Loading..."):null,a.a.createElement("div",null,a.a.createElement(m,{placeholder:"new pass",type:"password",value:o,onBlur:h,onFocus:h,onChange:function(e){l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(m,{placeholder:"repeat pass",type:"password",value:f,onBlur:h,onFocus:h,onChange:function(e){O(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",disabled:e.disabled,actionOfButton:function(){e.setValueOfSetNewPassForm(o,f,b),l(""),O("")},nameOfButton:"Set new password"})),a.a.createElement("div",null,a.a.createElement(E,{way:"/sign-in",wordOfLink:"Sign In"})))},h=n(3),v="auth/register/WAITING-FOR-RESPONSE",w="auth/register/SET-ERROR-REGISTER-PAGE",k=n(5),S=n.n(k),y=n(10),A=n(2),T=n(19),R=n.n(T),j=R.a.create({baseURL:"https://neko-cafe-back.herokuapp.com/"}),N=function(e,t,n){return j.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},I=function(e,t,n){return j.post("auth/forgot",{email:e,html1:t,html2:n}).then((function(e){return console.log(e)}))},D=function(e,t){return j.post("auth/register",{email:e,password:t}).then((function(e){return e}))},B=function(e){return j.post("auth/me",{authToken:e}).then((function(e){return e})).catch((function(e){return e}))},F=function(e,t){return j.post("auth/set-new-password",{resetPasswordToken:e,password:t}).then((function(e){return e}))},L={error:"",token:"",loading:null,disabled:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW-ERROR":return Object(A.a)({},e,{error:t.error});case"SET-NEW-TOKEN":return Object(A.a)({},e,{token:t.token});case"SET-LOADING-VALUE":return Object(A.a)({},e,{loading:t.loading});case"TO-CLEAN-ERROR-FIELD":return Object(A.a)({},e,{error:t.error});default:return e}},C=Object(h.b)(null,{setValueOfSetNewPassForm:function(e,t,n){return function(){var r=Object(y.a)(S.a.mark((function r(a,o){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e===t&&e.length>7)){r.next=7;break}return a({type:"SET-LOADING-VALUE",loading:!0,disabled:!0}),r.next=4,F(n,e);case 4:try{a({type:"SET-NEW-TOKEN",token:n}),a({type:"SET-LOADING-VALUE",loading:!1,disabled:!1})}catch(o){console.log(o.response),a({type:"SHOW-ERROR",error:o.response.data.error}),a({type:"SET-LOADING-VALUE",loading:!1,disabled:!1})}r.next=8;break;case 7:a({type:"SHOW-ERROR",error:"Incorrect Password! Password should have min 8 values and each one fields should be same!"});case 8:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}})((function(e){var t=Object(h.c)(),n=Object(h.d)((function(e){return e.setNewPass}));return a.a.createElement(b,{setValueOfSetNewPassForm:e.setValueOfSetNewPassForm,error:n.error,loading:n.loading,disabled:n.disabled,toCleanErrorField:function(){t({type:"TO-CLEAN-ERROR-FIELD",error:null})}})})),P=function(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)(""),u=Object(i.a)(c,2),d=u[0],f=u[1],O=Object(r.useState)(!1),b=Object(i.a)(O,2),h=b[0],v=b[1],w=function(){e.toCleanErrorField()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"sign-in"}),e.loading?a.a.createElement("div",null,"loading..."):null,e.error?a.a.createElement("div",null,e.error):null,a.a.createElement("div",null,a.a.createElement(m,{type:"text",placeholder:"email",value:o,onFocus:w,onBlur:w,onChange:function(e){l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(m,{type:"password",placeholder:"password",value:d,onFocus:w,onBlur:w,onChange:function(e){f(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(E,{way:"/forgot",wordOfLink:"Forgot password?"})),a.a.createElement("div",null,a.a.createElement(m,{type:"checkbox",checked:h,onChange:function(e){v(!h)}}),"Remember Me"),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){e.setSignInFormValues(o,d,h)},disabled:e.disabled,nameOfButton:"Sign In"})),a.a.createElement("div",null,a.a.createElement(E,{way:"/register",wordOfLink:"Registration"})))},_={email:"",password:"",rememberMe:!1,loading:!1,disabled:!1,error:null,token:"",redirect:!1,authToken:""},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-SIGN-IN-FORM-VALUES":return Object(A.a)({},e,{email:t.email,password:t.password,rememberMe:t.rememberMe,token:t.token,redirect:t.redirect});case"SET-LOADING-DATA":return Object(A.a)({},e,{loading:t.loading,disabled:t.disabled,redirect:t.redirect});case"SET-ERROR-SIGN-IN-PAGE":return Object(A.a)({},e,{error:t.error});case"IS-TOKEN-HAS":return Object(A.a)({},e,{authToken:t.authToken});default:return e}},V=Object(h.b)(null,{setSignInFormValues:function(e,t,n){return function(){var r=Object(y.a)(S.a.mark((function r(a,o){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"SET-LOADING-DATA",loading:!0,disabled:!0}),r.next=3,N(e,t,n).then((function(e){a({type:"SET-LOADING-DATA",loading:!1,disabled:!1}),a({type:"SET-SIGN-IN-FORM-VALUES",email:e.email,password:t,rememberMe:e.rememberMe,token:e.token,redirect:!0}),localStorage.setItem("auth-token",e.token);var n=localStorage.getItem("auth-token");a({type:"IS-TOKEN-HAS",authToken:n})})).catch((function(e){console.log(e.response);var t=e.response.data.error;a({type:"SET-LOADING-DATA",loading:!1,disabled:!1,redirect:!1}),a({type:"SET-ERROR-SIGN-IN-PAGE",error:t})}));case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}})((function(e){var t=Object(h.c)(),n=Object(h.d)((function(e){return e.signIn}));return n.redirect?a.a.createElement(u.a,{to:"/profile"}):a.a.createElement(P,{setSignInFormValues:e.setSignInFormValues,loading:n.loading,disabled:n.disabled,error:n.error,toCleanErrorField:function(){t({type:"SET-ERROR-SIGN-IN-PAGE",error:null})}})})),U=function(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),o=n[0],l=n[1],c=function(){e.toCleanError()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"forgot"}),e.loading?a.a.createElement("div",null,"Loading..."):null,e.error?a.a.createElement("div",null,e.error):null,a.a.createElement("div",null,a.a.createElement(m,{placeholder:"email address",type:"text",value:o,onBlur:c,onFocus:c,onChange:function(e){l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){e.setForgotPassword(o),l("")},nameOfButton:"Send email",disabled:e.disabled})),a.a.createElement("div",null,a.a.createElement(E,{way:"/sign-in",wordOfLink:"Sign In"})))},W={email:"",loading:!1,disabled:!1,error:null,emailApproved:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE-FORGOT-PASSWORD":return Object(A.a)({},e,{email:t.email});case"SET-LOADING-DATA-FORGOT-PAGE":return Object(A.a)({},e,{loading:t.loading,disabled:t.disabled,emailApproved:t.emailApproved});case"SET-VALUE-ERROR-FORGOT-PAGE":return Object(A.a)({},e,{error:t.error});default:return e}},H=Object(h.b)(null,{setForgotPassword:function(e){return function(){var t=Object(y.a)(S.a.mark((function t(n,r){var a,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!0,disabled:!0}),t.prev=1,t.next=4,I(e,"<a href=http://localhost:3000/template-typescript#/set-new-pass/",">reset-password-link</a>");case 4:a=t.sent,console.log(a),n({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!1,disabled:!1,emailApproved:!0}),n({type:"RESTORE-FORGOT-PASSWORD",email:e}),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response.data.error),o=t.t0.response.data.error,n({type:"SET-VALUE-ERROR-FORGOT-PAGE",error:o}),n({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!1,disabled:!1});case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},toCleanError:function(){return function(){var e=Object(y.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SET-VALUE-ERROR-FORGOT-PAGE",error:null})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=Object(h.d)((function(e){return e.forgot}));return t.emailApproved?a.a.createElement(u.a,{to:"/set-new-pass/:token"}):a.a.createElement(U,{setForgotPassword:e.setForgotPassword,toCleanError:e.toCleanError,loading:t.loading,disabled:t.disabled,error:t.error})})),K=function(e){var t=e.setRegisterFormValues,n=e.loading,o=e.error,l=e.CancelErrorPosition,c=Object(r.useState)(""),u=Object(i.a)(c,2),d=u[0],f=u[1],O=Object(r.useState)(""),b=Object(i.a)(O,2),h=b[0],v=b[1],w=Object(r.useState)(""),k=Object(i.a)(w,2),S=k[0],y=k[1],A=function(){return l()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"Register"}),n&&a.a.createElement("div",null,"wait"),o&&a.a.createElement("label",null,o),a.a.createElement("div",null,a.a.createElement(m,{placeholder:"email",type:"email",onBlur:A,onFocus:A,onChange:function(e){return f(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(m,{placeholder:"password",type:"password",onBlur:A,onFocus:A,onChange:function(e){return v(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(m,{placeholder:"repeat password",type:"password",onBlur:A,onFocus:A,onChange:function(e){return y(e.currentTarget.value)}})),a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){return t(d,h,S)},nameOfButton:"Register"}),a.a.createElement(E,{way:"/sign-in",wordOfLink:"Sign In"}))},z=function(){var e=Object(h.c)(),t=Object(h.d)((function(e){return e.register}));return a.a.createElement(a.a.Fragment,null,t.redirect&&a.a.createElement(u.a,{to:"/profile"}),a.a.createElement(K,{setRegisterFormValues:function(t,n,r){if(n!==r){e({type:w,error:"fields password and repeat password should be the same"})}else{if(!(n.length<=7&&t!==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/))return e({type:v,loading:!0}),D(t,n).then((function(r){e({type:v,loading:!1}),e({type:"auth/register/REGISTER-SUCCESS",email:t,password:n,redirect:!0})})).catch((function(t){e({type:v,loading:!1}),e({type:w,error:"your email is invalid or is already registered"})}));e({type:w,error:"your email of password is not valid"})}},loading:t.loading,error:t.error,CancelErrorPosition:function(){return e({type:w,error:null})}}))},Z=n(38),J=n.n(Z),$=function(e){return a.a.createElement("div",{className:J.a.wrapperOfHeader},a.a.createElement(E,{way:"/sign-in",wordOfLink:"sign-in"}),a.a.createElement(E,{way:"/register",wordOfLink:"register"}),a.a.createElement(E,{way:"/forgot",wordOfLink:"forgot"}),a.a.createElement(E,{way:"/set-new-pass/:token",wordOfLink:"set-new-pass"}),a.a.createElement(E,{way:"/profile",wordOfLink:"profile"}),e.login?a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){e.tokenIsClear()},nameOfButton:"logout"}):null)},X=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],o=t[1],l=localStorage.getItem("auth-token");Object(r.useEffect)((function(){o(!!l)}),[]);return a.a.createElement($,{login:n,tokenIsClear:function(){var e=localStorage.removeItem("auth-token");o(!1),console.log(e)}})},q=function(){var e=localStorage.getItem("auth-token");return console.log(e),Object(r.useEffect)((function(){B(e)}),[]),a.a.createElement("div",null,a.a.createElement("h1",null,"Profile page"))},Q=n(25),Y=n.n(Q),ee=function(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),o=n[0],l=n[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(s,{title:"DECKS"}),a.a.createElement("table",{className:Y.a.Table},a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement(m,{type:"text",value:o,placeholder:"Deck's name",onChange:function(e){l(e.currentTarget.value)}})),a.a.createElement("th",null,"Rating "," ",a.a.createElement(p,{actionOfButton:function(){},nameOfButton:"\u2191",typeOfButton:"button"})," "," ",a.a.createElement(p,{actionOfButton:function(){},nameOfButton:"\u2193",typeOfButton:"button"})),a.a.createElement("th",null,a.a.createElement(p,{actionOfButton:function(){e.addNewDeck(o)},nameOfButton:"add",typeOfButton:"button"}))),e.decks.map((function(t){return a.a.createElement("tr",{className:Y.a.cells},a.a.createElement("td",null,t.nameOfDeck),a.a.createElement("td",null,t.rating),a.a.createElement("td",null,a.a.createElement(p,{actionOfButton:function(){},nameOfButton:"Update",typeOfButton:"button"}),a.a.createElement(p,{actionOfButton:function(){return n=t.id,void e.deleteADeck(n);var n},nameOfButton:"Delete",typeOfButton:"button"})))}))))},te=n(40),ne=R.a.create({baseURL:"https://dry-forest-56016.herokuapp.com/shop/"}),re=function(e){return ne.post("shop",e)},ae=function(e){return ne.delete("shop")},oe={decks:[{id:1,nameOfDeck:"React",rating:"3"},{id:2,nameOfDeck:"TypeScript",rating:"1"}]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-DECK":return Object(A.a)({},e,{decks:[].concat(Object(te.a)(e.decks),[{id:e.decks.length+1,nameOfDeck:t.name,rating:"1"}])});case"DELETE-DECK":return Object(A.a)({},e,{decks:e.decks.filter((function(e){return e.id!==t.id}))});default:return e}},ce=Object(h.b)(null,{addNewDeck:function(e){return function(){var t=Object(y.a)(S.a.mark((function t(n,r){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"ADD-NEW-DECK",name:e}),t.prev=1,t.next=4,re(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()},deleteADeck:function(e){return function(){var t=Object(y.a)(S.a.mark((function t(n,r){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"DELETE-DECK",id:e}),t.next=4,ae(e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=Object(h.d)((function(e){return e.decks.decks}));return a.a.createElement(ee,{decks:t,addNewDeck:e.addNewDeck,deleteADeck:e.deleteADeck})})),ue=function(){return a.a.createElement(a.a.Fragment,null)},ie=Object(h.b)(null,{})((function(){return a.a.createElement(ue,null)})),se=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(X,null),a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(u.b,{path:"/sign-in",render:function(){return a.a.createElement(V,null)}}),a.a.createElement(u.b,{path:"/register",render:function(){return a.a.createElement(z,null)}}),a.a.createElement(u.b,{path:"/forgot",render:function(){return a.a.createElement(H,null)}}),a.a.createElement(u.b,{path:"/set-new-pass/:token",render:function(){return a.a.createElement(C,null)}}),a.a.createElement(u.b,{path:"/profile",render:function(){return a.a.createElement(q,null)}}),a.a.createElement(u.b,{path:"/decks-table",render:function(){return a.a.createElement(ce,null)}}),a.a.createElement(u.b,{path:"/cards-table",render:function(){return a.a.createElement(ie,null)}})))},de=n(13),fe=n(39),me={},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me;return e},Ee={email:"",password:"",loading:!1,error:!1,redirect:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/register/REGISTER-SUCCESS":return Object(A.a)({},e,{email:t.email,password:t.password,redirect:!0});case v:return Object(A.a)({},e,{loading:t.loading});case w:return Object(A.a)({},e,{error:t.error})}return e},ge={},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":return Object(A.a)({},e);default:return e}},he=Object(de.c)({forgot:M,register:Oe,setNewPass:G,signIn:x,profile:pe,decks:le,cards:be}),ve=Object(de.d)(he,Object(de.a)(fe.a));var we=function(){return a.a.createElement(c.a,null,a.a.createElement(h.a,{store:ve},a.a.createElement(se,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports={wrapperOfAuth:"Auth_wrapperOfAuth__3XmyS"}}},[[41,1,2]]]);
//# sourceMappingURL=main.5b81cd76.chunk.js.map