(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{10:function(e,t,n){e.exports={forLinks:"Common_forLinks__1l5g1",forInput:"Common_forInput__3E9bg",forButton:"Common_forButton__3VnRI"}},33:function(e,t,n){e.exports={wrapperOfHeader:"Header_wrapperOfHeader__3r8LB"}},35:function(e,t,n){e.exports=n(64)},40:function(e,t,n){},41:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),l=n.n(o),c=(n(40),n(41),n(11)),i=n(1),u=n(5),s=function(e){return a.a.createElement("div",null,a.a.createElement("h2",null,e.title))},d=n(10),m=n.n(d),E=function(e){return a.a.createElement("input",{className:m.a.forInput,onFocus:e.onFocus,onBlur:e.onBlur,value:e.value,onChange:e.onChange,placeholder:e.placeholder,type:e.type})},p=function(e){return a.a.createElement("button",{className:m.a.forButton,type:e.typeOfButton,onClick:e.actionOfButton,disabled:e.disabled},e.nameOfButton)},f=function(e){return a.a.createElement(c.b,{className:m.a.forLinks,to:e.way},e.wordOfLink)},O=n(8),g=n.n(O),b=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),d=i[0],m=i[1],O=function(){e.toCleanErrorField()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"Set New Password"}),e.error?a.a.createElement("div",null,e.error):null,e.loading?a.a.createElement("div",null,"Loading..."):null,a.a.createElement("div",null,a.a.createElement(E,{placeholder:"new pass",type:"password",value:o,onBlur:O,onFocus:O,onChange:function(e){l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(E,{placeholder:"repeat pass",type:"password",value:d,onBlur:O,onFocus:O,onChange:function(e){m(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",disabled:e.disabled,actionOfButton:function(){e.setValueOfSetNewPassForm(o,d),l(""),m("")},nameOfButton:"Set new password"})),a.a.createElement("div",null,a.a.createElement(f,{way:"/sign-in",wordOfLink:"Sign In"})))},h=n(2),w=n(32),v=n.n(w).a.create({baseURL:"https://neko-cafe-back.herokuapp.com/"}),A=function(e,t,n){return v.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},S=function(e,t,n){return v.post("auth/forgot",{email:e,html1:t,html2:n}).then((function(e){return console.log(e)}))},R=function(e,t){return v.post("auth/register",{email:e,password:t}).then((function(e){return e}))},y=function(e){return v.post("auth/me",{token:e}).then((function(e){return e})).catch((function(e){return e}))},T=function(e,t){return v.post("auth/set-new-password",{resetPasswordToken:e,password:t}).then((function(e){return e}))},L=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.setNewPass})),n=Object(i.f)().token;return a.a.createElement(b,{setValueOfSetNewPassForm:function(t,r){t===r&&t.length>7?(e({type:"SET-LOADING-VALUE",loading:!0,disabled:!0}),T(n,t).then((function(t){e({type:"SET-NEW-TOKEN",token:n}),e({type:"SET-LOADING-VALUE",loading:!1,disabled:!1})})).catch((function(t){console.log(t.response),e({type:"SHOW-ERROR",error:t.response.data.error}),e({type:"SET-LOADING-VALUE",loading:!1,disabled:!1})}))):e({type:"SHOW-ERROR",error:"Incorrect Password! Password should have min 8 values and each one fields should be same!"})},error:t.error,loading:t.loading,disabled:t.disabled,toCleanErrorField:function(){e({type:"TO-CLEAN-ERROR-FIELD",error:null})}})},j="auth/register/REGISTER-SUCCESS",N=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),d=i[0],m=i[1],O=Object(r.useState)(!1),b=Object(u.a)(O,2),h=b[0],w=b[1],v=function(){return e.toCleanErrorField()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"sign-in"}),e.loading?a.a.createElement("div",null,"loading..."):null,e.error?a.a.createElement("div",null,e.error):null,a.a.createElement("div",null,a.a.createElement(E,{type:"text",placeholder:"email",value:o,onFocus:v,onBlur:v,onChange:function(e){return l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(E,{type:"password",placeholder:"password",value:d,onFocus:v,onBlur:v,onChange:function(e){return m(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(f,{way:"/forgot",wordOfLink:"Forgot password?"})),a.a.createElement("div",null,a.a.createElement(E,{type:"checkbox",checked:h,onChange:function(e){return w(!h)}}),"Remember Me"),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){return e.setSignInFormValues(o,d,h)},disabled:e.disabled,nameOfButton:"Sign In"})),a.a.createElement("div",null,a.a.createElement(f,{way:"/register",wordOfLink:"Registration"})))},k=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.signIn}));return t.redirect?a.a.createElement(i.a,{to:"/profile"}):a.a.createElement(N,{setSignInFormValues:function(t,n,r){e({type:"SET-LOADING-DATA",loading:!0,disabled:!0}),A(t,n,r).then((function(t){console.log(t),e({type:"SET-LOADING-DATA",loading:!1,disabled:!1}),e({type:"SET-SIGN-IN-FORM-VALUES",email:t.email,password:n,rememberMe:t.rememberMe,token:t.token,redirect:!0})})).catch((function(t){console.log(t.response);var n=t.response.data.error;e({type:"SET-LOADING-DATA",loading:!1,disabled:!1,redirect:!1}),e({type:"SET-ERROR-SIGN-IN-PAGE",error:n})}))},loading:t.loading,disabled:t.disabled,error:t.error,toCleanErrorField:function(){e({type:"SET-ERROR-SIGN-IN-PAGE",error:null})}})},I=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=function(){return e.toCleanError()};return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"forgot"}),e.loading?a.a.createElement("div",null,"Loading..."):null,e.error?a.a.createElement("div",null,e.error):null,a.a.createElement("div",null,a.a.createElement(E,{placeholder:"email address",type:"text",value:o,onBlur:c,onFocus:c,onChange:function(e){l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){e.setForgotPassword(o),l("")},nameOfButton:"Send email",disabled:e.disabled})),a.a.createElement("div",null,a.a.createElement(f,{way:"/sign-in",wordOfLink:"Sign In"})))},G=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.forgot}));return t.emailApproved?a.a.createElement(i.a,{to:"/set-new-pass/:token"}):a.a.createElement(I,{setForgotPassword:function(t){return e({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!0,disabled:!0}),S(t,"<a href=http://localhost:3000/template-typescript#/set-new-pass/",">reset-password-link</a>").then((function(t){console.log(t),e({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!1,disabled:!1,emailApproved:!0})})).catch((function(t){console.log(t.response.data.error);var n=t.response.data.error;e({type:"SET-VALUE-ERROR-FORGOT-PAGE",error:n}),e({type:"SET-LOADING-DATA-FORGOT-PAGE",loading:!1,disabled:!1})})),e({type:"RESTORE-FORGOT-PASSWORD",email:t})},toCleanError:function(){e({type:"SET-VALUE-ERROR-FORGOT-PAGE",error:null})},loading:t.loading,disabled:t.disabled,error:t.error})},F=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),o=n[0],l=n[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),d=i[0],m=i[1],O=Object(r.useState)(""),b=Object(u.a)(O,2),h=(b[0],b[1]);return a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(s,{title:"Register"}),a.a.createElement("div",null,a.a.createElement(E,{placeholder:"email",type:"email",onChange:function(e){return l(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(E,{placeholder:"password",type:"password",onChange:function(e){return m(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(E,{placeholder:"repeat password",type:"password",onChange:function(e){return h(e.currentTarget.value)}})),a.a.createElement("div",null,a.a.createElement(p,{typeOfButton:"button",actionOfButton:function(){return e.setRegisterFormValues(o,d)},nameOfButton:"Register"})),a.a.createElement(f,{way:"/sign-in",wordOfLink:"Sign In"}))},B=function(){var e=Object(h.b)();Object(h.c)((function(e){return e.register}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(F,{setRegisterFormValues:function(t,n){return e({type:j}),R(t,n).then((function(e){return e})),e({type:j,email:t,password:n})}}))},C=n(33),D=n.n(C),P=function(){return a.a.createElement("div",{className:D.a.wrapperOfHeader},a.a.createElement(f,{way:"/sign-in",wordOfLink:"sign-in"}),a.a.createElement(f,{way:"/register",wordOfLink:"register"}),a.a.createElement(f,{way:"/forgot",wordOfLink:"forgot"}),a.a.createElement(f,{way:"/set-new-pass/:token",wordOfLink:"set-new-pass"}),a.a.createElement(f,{way:"/profile",wordOfLink:"profile"}),a.a.createElement(c.b,{to:"/sign-in"},"Logout"))},V=function(){var e=Object(h.c)((function(e){return e.signIn.token}));return Object(r.useEffect)((function(){y(e)}),[]),a.a.createElement(P,null)},_=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,null),a.a.createElement("div",{className:g.a.wrapperOfAuth},a.a.createElement(i.b,{path:"/sign-in",render:function(){return a.a.createElement(k,null)}}),a.a.createElement(i.b,{path:"/register",render:function(){return a.a.createElement(B,null)}}),a.a.createElement(i.b,{path:"/forgot",render:function(){return a.a.createElement(G,null)}}),a.a.createElement(i.b,{path:"/set-new-pass/:token",render:function(){return a.a.createElement(L,null)}})))},U=n(12),M=n(34),W=n(3),x={email:"",loading:!1,disabled:!1,error:null,emailApproved:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE-FORGOT-PASSWORD":return Object(W.a)({},e,{email:t.email});case"SET-LOADING-DATA-FORGOT-PAGE":return Object(W.a)({},e,{loading:t.loading,disabled:t.disabled,emailApproved:t.emailApproved});case"SET-VALUE-ERROR-FORGOT-PAGE":return Object(W.a)({},e,{error:t.error});default:return e}},J={},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return e},X={email:"",password:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(W.a)({},e,{email:t.email,password:t.password})}return e},q={error:"",token:"",loading:null,disabled:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW-ERROR":return Object(W.a)({},e,{error:t.error});case"SET-NEW-TOKEN":return Object(W.a)({},e,{token:t.token});case"SET-LOADING-VALUE":return Object(W.a)({},e,{loading:t.loading});case"TO-CLEAN-ERROR-FIELD":return Object(W.a)({},e,{error:t.error});default:return e}},Q={email:"",password:"",rememberMe:!1,loading:!1,disabled:!1,error:null,token:"",redirect:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-SIGN-IN-FORM-VALUES":return Object(W.a)({},e,{email:t.email,password:t.password,rememberMe:t.rememberMe,token:t.token,redirect:t.redirect});case"SET-LOADING-DATA":return Object(W.a)({},e,{loading:t.loading,disabled:t.disabled,redirect:t.redirect});case"SET-ERROR-SIGN-IN-PAGE":return Object(W.a)({},e,{error:t.error});default:return e}},Z=Object(U.c)({forgot:H,register:$,setNewPass:z,signIn:Y,profile:K}),ee=Object(U.d)(Z,Object(U.a)(M.a));var te=function(){return a.a.createElement(c.a,null,a.a.createElement(h.a,{store:ee},a.a.createElement(_,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports={wrapperOfAuth:"Auth_wrapperOfAuth__3XmyS"}}},[[35,1,2]]]);
//# sourceMappingURL=main.a132feff.chunk.js.map